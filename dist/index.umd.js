(function(i,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("react"),require("lodash")):typeof define=="function"&&define.amd?define(["exports","react","lodash"],c):(i=typeof globalThis<"u"?globalThis:i||self,c(i.VividReactWrapper={},i.react,i.lodash))})(this,function(i,c,u){"use strict";const M=(e,t,s)=>e.setAttribute(t,s),a=(e,t,s)=>e[s==="true"?"setAttribute":"removeAttribute"](t,s),y=(e,t,s,p,o)=>()=>{const n=s.current,f=u.flow(o,e[t]||u.noop),m=()=>n==null?void 0:n.removeEventListener(p,f);return E(e,t)&&(n==null||n.addEventListener(p,f)),m},O=(e,t,s,p)=>()=>{const o=s.current;o&&E(e,t)&&p(o,t,e[t])},E=(e,t)=>!u.isUndefined(e[t]),b=e=>e.propName||["on",u.upperFirst(e.name||e)].join(""),g=(e,t={events:[],attributes:[],properties:[]})=>c.forwardRef(({children:s=[],...p},o)=>{var m,A,j;const n=u.pickBy(p,r=>r!==!1),f=c.useRef(null);return(m=t.events)==null||m.forEach(r=>{const d=u.isString(r)?r:r.name,S=u.isString(r)?u.identity:r.transform||u.identity,v=b(r);c.useEffect(y(n,v,f,d,S),[n[v]])}),(A=t.attributes)==null||A.forEach(r=>{const d=u.isString(r)?r:r.name,S=u.isString(r)?a:r.setter||a;c.useEffect(O(n,d,f,S),[n[d]])}),(j=t.properties)==null||j.forEach(r=>{c.useEffect(()=>{f.current&&(f.current[r]=n[r])},[n[r]])}),c.createElement(e,{ref:r=>{f.current=r,typeof o=="function"?o(r):o&&typeof o=="object"&&(o.current=r)},...T(n,t)},[],...[].concat(s))}),l=e=>typeof e=="string"?e:e.name,T=(e,t)=>{var o,n;const s=[...Object.keys(e)],p=[...((o=t.events)==null?void 0:o.map(b))||[],...((n=t.attributes)==null?void 0:n.map(l))||[],...t.properties||[]];return s.filter(f=>!p.includes(f)).reduce(F(e),{})},F=e=>(t,s)=>({...t,[s]:e[s]});i.attributeSetterToggle=a,i.attributeSetterValue=M,i.default=g,i.propExists=E,i.propNameFromEvent=b,i.setDOMAttributes=O,i.setDOMListeners=y,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
