"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("react"),c=require("lodash"),A=(t,e,n)=>t.setAttribute(e,n),d=(t,e,n)=>t[n==="true"?"setAttribute":"removeAttribute"](e,n),g=(t,e,n,u,o)=>()=>{const s=n.current,i=c.flow(o,t[e]||c.noop),p=()=>s==null?void 0:s.removeEventListener(u,i);return l(t,e)&&(s==null||s.addEventListener(u,i)),p},y=(t,e,n,u)=>()=>{const o=n.current;o&&l(t,e)&&u(o,e,t[e])},l=(t,e)=>!c.isUndefined(t[e]),E=t=>t.propName||["on",c.upperFirst(t.name||t)].join(""),h=(t,e={events:[],attributes:[],properties:[]})=>a.forwardRef(({children:n=[],...u},o)=>{var p,b,S;const s=c.pickBy(u,r=>r!==!1),i=a.useRef(null);return(p=e.events)==null||p.forEach(r=>{const f=c.isString(r)?r:r.name,m=c.isString(r)?c.identity:r.transform||c.identity,O=E(r);a.useEffect(g(s,O,i,f,m),[s[O]])}),(b=e.attributes)==null||b.forEach(r=>{const f=c.isString(r)?r:r.name,m=c.isString(r)?d:r.setter||d;a.useEffect(y(s,f,i,m),[s[f]])}),(S=e.properties)==null||S.forEach(r=>{a.useEffect(()=>{i.current&&(i.current[r]=s[r])},[s[r]])}),a.createElement(t,{ref:r=>{i.current=r,typeof o=="function"?o(r):o&&typeof o=="object"&&(o.current=r)},...j(s,e)},[],...[].concat(n))}),M=t=>typeof t=="string"?t:t.name,j=(t,e)=>{var o,s;const n=[...Object.keys(t)],u=[...((o=e.events)==null?void 0:o.map(E))||[],...((s=e.attributes)==null?void 0:s.map(M))||[],...e.properties||[]];return n.filter(i=>!u.includes(i)).reduce(v(t),{})},v=t=>(e,n)=>({...e,[n]:t[n]});exports.attributeSetterToggle=d;exports.attributeSetterValue=A;exports.default=h;exports.propExists=l;exports.propNameFromEvent=E;exports.setDOMAttributes=y;exports.setDOMListeners=g;
